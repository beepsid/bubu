{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nexport var STORAGE_KEYS = {\n  SLAP_COUNT: 'slap_count',\n  LAST_SYNC: 'last_sync',\n  USER_PREFERENCES: 'user_preferences',\n  GALLERY_FAVORITES: 'gallery_favorites'\n};\nexport var storeData = function () {\n  var _ref = _asyncToGenerator(function* (key, value) {\n    try {\n      var jsonValue = JSON.stringify(value);\n      yield AsyncStorage.setItem(key, jsonValue);\n      return true;\n    } catch (error) {\n      console.error('Error storing data:', error);\n      return false;\n    }\n  });\n  return function storeData(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var getData = function () {\n  var _ref2 = _asyncToGenerator(function* (key) {\n    try {\n      var jsonValue = yield AsyncStorage.getItem(key);\n      return jsonValue != null ? JSON.parse(jsonValue) : null;\n    } catch (error) {\n      console.error('Error getting data:', error);\n      return null;\n    }\n  });\n  return function getData(_x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var removeData = function () {\n  var _ref3 = _asyncToGenerator(function* (key) {\n    try {\n      yield AsyncStorage.removeItem(key);\n      return true;\n    } catch (error) {\n      console.error('Error removing data:', error);\n      return false;\n    }\n  });\n  return function removeData(_x4) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var getSlapCount = function () {\n  var _ref4 = _asyncToGenerator(function* () {\n    var count = yield getData(STORAGE_KEYS.SLAP_COUNT);\n    return count || 0;\n  });\n  return function getSlapCount() {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var setSlapCount = function () {\n  var _ref5 = _asyncToGenerator(function* (count) {\n    return yield storeData(STORAGE_KEYS.SLAP_COUNT, count);\n  });\n  return function setSlapCount(_x5) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nexport var incrementSlapCount = function () {\n  var _ref6 = _asyncToGenerator(function* () {\n    var currentCount = yield getSlapCount();\n    var newCount = currentCount + 1;\n    yield setSlapCount(newCount);\n    return newCount;\n  });\n  return function incrementSlapCount() {\n    return _ref6.apply(this, arguments);\n  };\n}();\nexport var getUserPreferences = function () {\n  var _ref7 = _asyncToGenerator(function* () {\n    var prefs = yield getData(STORAGE_KEYS.USER_PREFERENCES);\n    return prefs || {\n      theme: 'romantic',\n      notifications: true,\n      hapticFeedback: true\n    };\n  });\n  return function getUserPreferences() {\n    return _ref7.apply(this, arguments);\n  };\n}();\nexport var setUserPreferences = function () {\n  var _ref8 = _asyncToGenerator(function* (preferences) {\n    return yield storeData(STORAGE_KEYS.USER_PREFERENCES, preferences);\n  });\n  return function setUserPreferences(_x6) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nexport var getGalleryFavorites = function () {\n  var _ref9 = _asyncToGenerator(function* () {\n    var favorites = yield getData(STORAGE_KEYS.GALLERY_FAVORITES);\n    return favorites || [];\n  });\n  return function getGalleryFavorites() {\n    return _ref9.apply(this, arguments);\n  };\n}();\nexport var addToFavorites = function () {\n  var _ref0 = _asyncToGenerator(function* (imageId) {\n    var favorites = yield getGalleryFavorites();\n    if (!favorites.includes(imageId)) {\n      favorites.push(imageId);\n      yield storeData(STORAGE_KEYS.GALLERY_FAVORITES, favorites);\n    }\n    return favorites;\n  });\n  return function addToFavorites(_x7) {\n    return _ref0.apply(this, arguments);\n  };\n}();\nexport var removeFromFavorites = function () {\n  var _ref1 = _asyncToGenerator(function* (imageId) {\n    var favorites = yield getGalleryFavorites();\n    var updatedFavorites = favorites.filter(function (id) {\n      return id !== imageId;\n    });\n    yield storeData(STORAGE_KEYS.GALLERY_FAVORITES, updatedFavorites);\n    return updatedFavorites;\n  });\n  return function removeFromFavorites(_x8) {\n    return _ref1.apply(this, arguments);\n  };\n}();\nexport var getLastSyncTime = function () {\n  var _ref10 = _asyncToGenerator(function* () {\n    return yield getData(STORAGE_KEYS.LAST_SYNC);\n  });\n  return function getLastSyncTime() {\n    return _ref10.apply(this, arguments);\n  };\n}();\nexport var setLastSyncTime = function () {\n  var _ref11 = _asyncToGenerator(function* (timestamp) {\n    return yield storeData(STORAGE_KEYS.LAST_SYNC, timestamp);\n  });\n  return function setLastSyncTime(_x9) {\n    return _ref11.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["AsyncStorage","STORAGE_KEYS","SLAP_COUNT","LAST_SYNC","USER_PREFERENCES","GALLERY_FAVORITES","storeData","_ref","_asyncToGenerator","key","value","jsonValue","JSON","stringify","setItem","error","console","_x","_x2","apply","arguments","getData","_ref2","getItem","parse","_x3","removeData","_ref3","removeItem","_x4","getSlapCount","_ref4","count","setSlapCount","_ref5","_x5","incrementSlapCount","_ref6","currentCount","newCount","getUserPreferences","_ref7","prefs","theme","notifications","hapticFeedback","setUserPreferences","_ref8","preferences","_x6","getGalleryFavorites","_ref9","favorites","addToFavorites","_ref0","imageId","includes","push","_x7","removeFromFavorites","_ref1","updatedFavorites","filter","id","_x8","getLastSyncTime","_ref10","setLastSyncTime","_ref11","timestamp","_x9"],"sources":["C:/study/github/projects/bubu/src/services/storage.js"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\n// Keys for AsyncStorage\r\nexport const STORAGE_KEYS = {\r\n  SLAP_COUNT: 'slap_count',\r\n  LAST_SYNC: 'last_sync',\r\n  USER_PREFERENCES: 'user_preferences',\r\n  GALLERY_FAVORITES: 'gallery_favorites',\r\n};\r\n\r\n// Generic storage functions\r\nexport const storeData = async (key, value) => {\r\n  try {\r\n    const jsonValue = JSON.stringify(value);\r\n    await AsyncStorage.setItem(key, jsonValue);\r\n    return true;\r\n  } catch (error) {\r\n    console.error('Error storing data:', error);\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const getData = async (key) => {\r\n  try {\r\n    const jsonValue = await AsyncStorage.getItem(key);\r\n    return jsonValue != null ? JSON.parse(jsonValue) : null;\r\n  } catch (error) {\r\n    console.error('Error getting data:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const removeData = async (key) => {\r\n  try {\r\n    await AsyncStorage.removeItem(key);\r\n    return true;\r\n  } catch (error) {\r\n    console.error('Error removing data:', error);\r\n    return false;\r\n  }\r\n};\r\n\r\n// Slap counter specific functions\r\nexport const getSlapCount = async () => {\r\n  const count = await getData(STORAGE_KEYS.SLAP_COUNT);\r\n  return count || 0;\r\n};\r\n\r\nexport const setSlapCount = async (count) => {\r\n  return await storeData(STORAGE_KEYS.SLAP_COUNT, count);\r\n};\r\n\r\nexport const incrementSlapCount = async () => {\r\n  const currentCount = await getSlapCount();\r\n  const newCount = currentCount + 1;\r\n  await setSlapCount(newCount);\r\n  return newCount;\r\n};\r\n\r\n// User preferences\r\nexport const getUserPreferences = async () => {\r\n  const prefs = await getData(STORAGE_KEYS.USER_PREFERENCES);\r\n  return prefs || {\r\n    theme: 'romantic',\r\n    notifications: true,\r\n    hapticFeedback: true,\r\n  };\r\n};\r\n\r\nexport const setUserPreferences = async (preferences) => {\r\n  return await storeData(STORAGE_KEYS.USER_PREFERENCES, preferences);\r\n};\r\n\r\n// Gallery favorites\r\nexport const getGalleryFavorites = async () => {\r\n  const favorites = await getData(STORAGE_KEYS.GALLERY_FAVORITES);\r\n  return favorites || [];\r\n};\r\n\r\nexport const addToFavorites = async (imageId) => {\r\n  const favorites = await getGalleryFavorites();\r\n  if (!favorites.includes(imageId)) {\r\n    favorites.push(imageId);\r\n    await storeData(STORAGE_KEYS.GALLERY_FAVORITES, favorites);\r\n  }\r\n  return favorites;\r\n};\r\n\r\nexport const removeFromFavorites = async (imageId) => {\r\n  const favorites = await getGalleryFavorites();\r\n  const updatedFavorites = favorites.filter(id => id !== imageId);\r\n  await storeData(STORAGE_KEYS.GALLERY_FAVORITES, updatedFavorites);\r\n  return updatedFavorites;\r\n};\r\n\r\n// Sync tracking\r\nexport const getLastSyncTime = async () => {\r\n  return await getData(STORAGE_KEYS.LAST_SYNC);\r\n};\r\n\r\nexport const setLastSyncTime = async (timestamp) => {\r\n  return await storeData(STORAGE_KEYS.LAST_SYNC, timestamp);\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}